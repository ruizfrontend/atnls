<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	
<div id="v1"></div>
<div>asdlksadlsak da√±slkd</div>

<script type="text/javascript" src="https://www.youtube.com/iframe_api"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.js"></script>

<script>

var videoReady = false;
var video = null;
$(init);

function onYouTubeIframeAPIReady() {
	videoReady = true;
};

function init() {

	if(!videoReady) {
		setTimeout(init, 100);
		return;
	}

	video = new YT.Player('v1', {
	  videoId: 'AVFl5sviqCU',
	  playerVars: {
        autoplay: false,
        controls: 0,
        loop: false,

        showinfo: 0,
        modestbranding: 0,
        playsinline: 1,
        rel: 0,
    },
	  events: {
	    onReady: function(event){
				this.playVideo();
	    },
	    onStateChange: function(event){
	      // switch(event.data){
	      //   case 0: // fin
	      //   case 2: // pause
	      //     $wrap.removeClass('playing');
	      //     $wrap.find('.vimeo-poster').fadeIn(200);
	      //   break;
	      //   case 1: // play
	      //     app.video.stopAll(id);
	      //     $wrap.addClass('playing');
	      //     $wrap.find('.vimeo-poster').fadeOut(600);
	      //   break;
	      // }
	    },
	    onError: function(){
	      // $wrap.removeClass('playing');
	      // $wrap.find('.vimeo-poster').show();
	    },
	    onApiChange: function(){
	      // $wrap.removeClass('playing');
	      // $wrap.find('.vimeo-poster').show();
	    }
	  }
	});

}

var mouseTrap = {
	isMoving: false,
	time: 100,
	pos: {
		x: null,
		y: null
	},
	prevPos: {
		x: null,
		y: null
	},
	init: function() {
		document.onmousemove = mouseTrap.mouseMove;
		mouseTrap.start();
	},
	stop: function() {
		document.onmousemove = null;
		mouseTrap.pause();
	},
	start: function() {
		mouseTrap.update();
	},
	pause: function() {
		if(mouseTrap.timeout) {
			clearTimeout(mouseTrap.timeout);
			mouseTrap.timeout = null;
		}
		console.log(mouseTrap.timeout);
	},
	update: function() {
		mouseTrap.timeout = setTimeout(mouseTrap.update, mouseTrap.time);

		// console.log(mouseTrap);

		if(!mouseTrap.pos.x) return;

		if(mouseTrap.prevPos.x) {

			var diffX = mouseTrap.prevPos.x - mouseTrap.pos.x;
			// var diffY = mouseTrap.prevPos.y - mouseTrap.pos.y;
			// var diff = Math.sqrt((diffX * diffX) + (diffY * diffY));

			if(diffX < -1) {
				if(video) video.playVideo();
			} else {
				if(video) video.pauseVideo();
			}
		}

		mouseTrap.prevPos.x = mouseTrap.pos.x;
		mouseTrap.prevPos.y = mouseTrap.pos.y;
	},
	mouseMove: function(e) {
		e = e || window.event;

		if (event.pageX == null && event.clientX != null) {
		eventDoc = (event.target && event.target.ownerDocument) || document;
		doc = eventDoc.documentElement;
		body = eventDoc.body;

		event.pageX = event.clientX +
		  (doc && doc.scrollLeft || body && body.scrollLeft || 0) -
		  (doc && doc.clientLeft || body && body.clientLeft || 0);
		event.pageY = event.clientY +
		  (doc && doc.scrollTop  || body && body.scrollTop  || 0) -
		  (doc && doc.clientTop  || body && body.clientTop  || 0 );
		}

		mouseTrap.pos.x = event.pageX;
		mouseTrap.pos.y = event.pageY;

	},
};

mouseTrap.init();
// $('body').click(function(){ mouseTrap.stop(); console.log('stop'); })

</script>
</body>
</html>	